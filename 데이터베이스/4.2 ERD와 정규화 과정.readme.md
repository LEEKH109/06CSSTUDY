# 4.2.1 ERD의 중요성 

ERD는 데이터 베이스를 구축할때 가장 기초적인 뼈대 역할을 하며, 릴레이션 간의 관계들을 정의한 것이다. 

* 시스템의 요구사항을 기반으로 작성. 
* 이를 기반으로 데이터베이스를 구축. 
* 구축한 후에도 디버깅 또는 비지니스 프로세스 재설계가 필요한 경우 설계도의 역할. 

ERD는 관계형 구조로 표현할 수 있는 데이터를 구성하는데 유용할 수 있지만 비정형 데이터를 충분히 표현할 수 없다는 단점이 있다. 

> 비정형 데이터 : 정의된 구조가 없이 정형화되지 않은 데이터. 대표적인 비정형 데이터에는 동영상 파일, 오디오 파일, 사진, 보고서(문서), 메일 본문 등이 있다.

<br>

# 4.2.2 예제로 배우는 ERD

* '|' 표시가 있는 곳은 반드시 있어야 하는 개체. (필수)
* 'O' 표시가 있다면 없어도 되는 개체. (선택)

![image](https://github.com/Youth787/SSAFY_CS_Study/assets/90955152/abb5a547-3a14-4a98-82b6-edaa992f355f)

![image](https://github.com/Youth787/SSAFY_CS_Study/assets/90955152/7734bc9d-ceaa-48a6-82a2-7cf88c5c8bf3)

<br>

# 4.2.3 정규화 과정 

### 정규화 과정이란? 
릴레이션 간의 잘못된 종속관계로 인해 데이터베이스 이상 현상이 일어나서 이를 해결하거나, 저장 공간을 효율적으로 사용하기 위해 릴레이션을 여러개로 분리하는 과정이다. 
> 데이터 베이스 이상 현상 : 삽입 이상, 업데이트 이상, 삭제 이상이 있다.
> * 삽입 이상 : 특정 데이터가 존재하지 않아 중요한 데이터를 데이터베이스에 삽입할 수 없을 때 발생한다.
> * 업데이트 이상 : 테이블의 특정 데이터를 업데이트 했는데, 정상적으로 변경되지 않은 경우, 또는 너무 많은 행을 업데이트 하는 경우.
> * 삭제 이상 : 특정 정보를 삭제하면, 원치 않는 정보도 삭제되는 현상.

정규화과정은 정규형 원칙을 기반으로 정규형을 만들어가는 과정이다. <br>
정규화된 정도는 정규형으로 표현한다. 

* 기본 정규형 : 제1정규형, 제2정규형, 제3정규형, 보이스/코드 정규형
* 고급 정규형 : 제4정규형, 제 5정규형

### 정규형 원칙
같은 의미를 표현하는 릴레이션이지만 
* 좀 더 좋은 구조.
* 자료의 중복 감소.
* 독립적인 관계는 별개의 릴레이션으로 표현.
* 각각의 릴레이션은 독립적으로 표현 가능.

## 제 1 정규형 

릴레이션의 모든 도메인이 더 이상 분해될 수 없는 원자 값만으로 구성되어야 한다. <br>
한개의 기본키에 대해 두개 이상의 값을 가지는 반복 집합이 있으면 안된다. 있다면 제거. 

[변경 전] <br>
![image](https://github.com/Youth787/SSAFY_CS_Study/assets/90955152/5a4b41e1-1117-4c2f-ae39-a28da6002721)

[변경 후] <br>
![image](https://github.com/Youth787/SSAFY_CS_Study/assets/90955152/20c3f463-497b-4c23-ac75-e29b9ebeca4d)

## 제 2 정규형 

1. 1정규형을 만족해야 한다. <br>
2. 모든 컬럼이 부분적 종속(Partial Dependency)이 없어야 한다. == 모든 칼럼이 완전 함수 종속을 만족해야 한다.

![image](https://github.com/Youth787/SSAFY_CS_Study/assets/90955152/7af4b21f-d6c6-456a-846b-43795b3ec11f)

기본키는 (학생 번호, 과목)으로 복합키 <br>
지도교수 칼럼은 (학생 번호, 과목)에 종속되지 않고 (과목) 에만 종속되는 부분적 종속이다. <br>
따라서 제2 정규화를 만족하지 않으므로 아래와 같이 분해해야 한다.

![image](https://github.com/Youth787/SSAFY_CS_Study/assets/90955152/cbf71611-c6d7-4519-877e-cff92561f375)


주의 : 릴레이션을 분해할 때 동등한 릴레이션으로 분해해야 하고, 정보 손실이 발생하지 않는 무손실 분해로 분해되어야 한다. 


## 제 3 정규형

제 2 정규형이고 기본키가 아닌 모든 속성이 이행적 함수 종속을 만족하지 않는 상태를 말한다. 

> 이행적 함수 종속: A -> B -> C 가 존재하면 A -> C 가 성립한다. <br>
> 이때 집합 C가 집합 A에 이행적으로 함수 종속되었다고 한다. 


## 보이스 / 코드 정규형 

제 3 정규형이고, 결정자가 후보키가 아닌 함수 종속 관계를 제거하여 릴레이션의 종속 관계에서 모든 결정자가 후보키인 상태를 말한다. 
